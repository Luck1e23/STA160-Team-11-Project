<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Chest X-ray Classification for Multi-Label Pathologies</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="description" content="Chest X-ray classification for multi-label thoracic pathologies using CNNs on NIH ChestX-ray14." />
<style>
:root {
  --bg-0: #020617;
  --card-bg: rgba(10,18,35,0.96);
  --card-border: rgba(148,163,255,0.55);
  --card-border-soft: rgba(148,163,255,0.24);
  --text-main: #e5edff;
  --text-muted: #a3b4d6;
  --text-soft: #7f8fb0;
  --accent-1: #7aa2ff;
  --accent-2: #8ef2d4;
  --accent-3: #60a5fa;
  --accent-4: #22c55e;
  --radius-lg: 24px;
  --radius-md: 18px;
  --radius-pill: 999px;
  --shadow-soft: 0 14px 40px rgba(15,23,42,0.9);
  --shadow-strong: 0 18px 60px rgba(0,0,0,0.95);
  --max-width: 1180px;
  --nav-height: 70px;
  --font-sans: system-ui,-apple-system,BlinkMacSystemFont,"SF Pro Text","Inter","Segoe UI",sans-serif;
  --transition-fast: 150ms ease-out;
  --transition-med: 230ms ease-out;
}
*,
*::before,
*::after {
  box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
}
html,body {
  margin: 0;
  padding: 0;
  height: 100%;
  scroll-behavior: smooth;
}
body {
  font-family: var(--font-sans);
  background:
    radial-gradient(circle at 0 0, rgba(129,140,248,0.35), transparent 60%),
    radial-gradient(circle at 100% 100%, rgba(56,189,248,0.28), transparent 60%),
    linear-gradient(180deg,#020617 0%,#020617 100%);
  color: var(--text-main);
  line-height: 1.65;
  overflow-x: hidden;
}
img {
  max-width: 100%;
  display: block;
}
a {
  color: inherit;
  text-decoration: none;
}
button {
  font-family: inherit;
}
.page-shell {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}
.container {
  width: min(100% - 3rem, var(--max-width));
  margin-inline: auto;
  position: relative;
  z-index: 1;
}

/* header + mega nav */
header {
  position: fixed;
  inset-inline: 0;
  top: 0;
  z-index: 60;
  background: linear-gradient(180deg, rgba(15,23,42,0.96), rgba(15,23,42,0.92));
  border-bottom: 1px solid rgba(148,163,255,0.4);
  box-shadow: 0 10px 30px rgba(15,23,42,0.9);
}
.nav-inner {
  width: min(100% - 3rem, var(--max-width));
  margin-inline: auto;
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: var(--nav-height);
}
.nav-left {
  display: flex;
  align-items: center;
  gap: .85rem;
}
.nav-logo {
  width: 38px;
  height: 38px;
  border-radius: 14px;
  background: conic-gradient(from 220deg,#8ef2d4,#4f46e5,#7aa2ff,#8ef2d4);
  display: grid;
  place-items: center;
  color: #020617;
  font-weight: 800;
  font-size: 18px;
  box-shadow: 0 0 0 1px rgba(248,250,252,0.96),0 10px 26px rgba(15,23,42,0.95);
}
.nav-title-main {
  font-size: .96rem;
  font-weight: 600;
  letter-spacing: .08em;
  text-transform: uppercase;
}
.nav-title-sub {
  font-size: .76rem;
  color: var(--text-soft);
}
.nav-links {
  display: flex;
  align-items: center;
  gap: .25rem;
}
.nav-link {
  padding: .44rem .9rem;
  border-radius: var(--radius-pill);
  font-size: .9rem;
  color: #e5edff;
  opacity: .96;
  display: inline-flex;
  align-items: center;
  gap: .26rem;
  transition: background var(--transition-fast),color var(--transition-fast),transform var(--transition-fast),box-shadow var(--transition-fast),opacity var(--transition-fast);
}
.nav-link span.icon { font-size: .8rem; }
.nav-link:hover {
  background: radial-gradient(circle at 0 0, rgba(148,255,225,0.45), transparent 60%);
  transform: translateY(-1px);
  opacity: 1;
}
.nav-link-primary {
  background-image: linear-gradient(120deg,var(--accent-1),var(--accent-3),var(--accent-4));
  background-size: 200% 200%;
  color: #020617;
  font-weight: 600;
  padding-inline: 1.15rem;
  box-shadow: 0 12px 34px rgba(0,0,0,0.9);
  animation: navGradient 12s ease-in-out infinite;
}
.nav-item {
  position: relative;
}
.nav-mega-toggle {
  border: none;
  background: transparent;
  padding: 0;
  cursor: pointer;
}
.nav-link-ghost {
  border-radius: var(--radius-pill);
  padding: .44rem .9rem;
  background: transparent;
}

/* mega panel */
.mega {
  position: absolute;
  inset-inline: auto 0;
  right: -10px;
  top: calc(100% + 8px);
  min-width: 540px;
  max-width: 720px;
  transform-origin: top right;
  transform: translateY(6px) scale(0.98);
  opacity: 0;
  pointer-events: none;
  transition: opacity var(--transition-med),transform var(--transition-med);
  z-index: -1;
}
.mega-inner {
  border-radius: 20px;
  border: 1px solid rgba(148,163,255,0.6);
  background: radial-gradient(circle at 0 0, rgba(148,255,225,0.24), transparent 60%),rgba(10,18,35,0.98);
  box-shadow: 0 18px 50px rgba(0,0,0,0.9);
  padding: 1rem 1.15rem;
}
.mega-grid {
  display: grid;
  grid-template-columns: repeat(3,minmax(0,1fr));
  gap: 1rem;
}
.mega-col-title {
  font-size: .78rem;
  letter-spacing: .16em;
  text-transform: uppercase;
  color: #c7d2fe;
  margin-bottom: .35rem;
}
.mega-link {
  display: block;
  padding: .3rem .3rem .35rem 0;
  font-size: .86rem;
  color: #e5edff;
  border-radius: 10px;
  transition: background var(--transition-fast),transform var(--transition-fast),color var(--transition-fast);
}
.mega-link span.label { display: block; }
.mega-link span.desc {
  display: block;
  font-size: .78rem;
  color: var(--text-soft);
}
.mega-link:hover {
  background: rgba(15,23,42,0.98);
  transform: translateY(-1px);
}
.nav-item.show-mega .mega {
  opacity: 1;
  transform: translateY(0) scale(1);
  pointer-events: auto;
  z-index: 40;
}

/* mobile nav */
.nav-toggle {
  display: none;
  width: 34px;
  height: 34px;
  border-radius: 999px;
  border: 1px solid rgba(148,163,255,0.7);
  background: radial-gradient(circle at 20% 0, rgba(148,255,225,0.6), transparent 60%),rgba(15,23,42,0.97);
  display: none;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  box-shadow: 0 10px 28px rgba(0,0,0,0.9);
}
.nav-toggle-bar {
  width: 16px;
  height: 2px;
  border-radius: 999px;
  background: #e5edff;
  position: relative;
}
.nav-toggle-bar::before,
.nav-toggle-bar::after {
  content: "";
  position: absolute;
  inset-inline: 0;
  height: 2px;
  border-radius: 999px;
  background: inherit;
}
.nav-toggle-bar::before { top: -5px; }
.nav-toggle-bar::after { top: 5px; }
.nav-shell.nav-open .nav-toggle-bar { background: transparent; }
.nav-shell.nav-open .nav-toggle-bar::before {
  top: 0;
  transform: rotate(45deg);
}
.nav-shell.nav-open .nav-toggle-bar::after {
  top: 0;
  transform: rotate(-45deg);
}
.nav-mobile {
  display: none;
  position: fixed;
  inset-inline: 0;
  top: var(--nav-height);
  background: radial-gradient(circle at 0 0, rgba(148,255,225,0.22), transparent 60%),rgba(10,18,35,0.98);
  border-bottom: 1px solid rgba(148,163,255,0.35);
  box-shadow: 0 16px 40px rgba(0,0,0,0.9);
  z-index: 55;
}
.nav-mobile-inner {
  width: min(100% - 3rem, var(--max-width));
  margin-inline: auto;
  padding: .7rem 0 1rem;
  display: grid;
  gap: .25rem;
}
.nav-shell.nav-open .nav-mobile { display: block; }
.nav-mobile a {
  padding: .6rem .9rem;
  border-radius: var(--radius-pill);
  font-size: .9rem;
  background: rgba(15,23,42,0.97);
  border: 1px solid rgba(148,163,255,0.5);
}

/* hero */
.hero {
  position: relative;
  min-height: calc(100vh - var(--nav-height));
  display: flex;
  align-items: center;
  padding: 5rem 0 3.8rem;
}
.hero-layer {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
}
.hero-layer.is-gradient {
  background: radial-gradient(1000px 700px at 0 0, rgba(129,140,248,0.4), transparent 70%),radial-gradient(900px 650px at 100% 100%, rgba(56,189,248,0.26), transparent 70%);
  opacity: .85;
  mix-blend-mode: screen;
}
.hero-layer.is-particles {
  background-image:
    radial-gradient(2px 2px at 20% 30%, rgba(248,250,252,0.85), transparent),
    radial-gradient(2px 2px at 80% 70%, rgba(248,250,252,0.8), transparent),
    radial-gradient(1.5px 1.5px at 40% 80%, rgba(148,163,255,0.9), transparent),
    radial-gradient(1.5px 1.5px at 15% 75%, rgba(52,211,153,0.9), transparent);
  opacity: .28;
  animation: starDrift 26s linear infinite alternate;
}
.hero-inner {
  position: relative;
  z-index: 1;
  display: grid;
  grid-template-columns: minmax(0,1.1fr) minmax(0,.9fr);
  gap: 2.6rem;
  align-items: center;
}
.hero-kicker {
  font-size: .85rem;
  letter-spacing: .18em;
  text-transform: uppercase;
  color: var(--accent-2);
  font-weight: 600;
}
.hero-title {
  margin: .6rem 0 .9rem;
  font-size: clamp(2.4rem, 4.5vw, 3.4rem);
  line-height: 1.05;
  letter-spacing: .04em;
}
.hero-title span {
  background: linear-gradient(120deg,#ffffff,#dbeafe,#bbf7d0);
  -webkit-background-clip: text;
  color: transparent;
}
.hero-subtitle {
  font-size: .99rem;
  color: var(--text-muted);
  max-width: 40rem;
}
.hero-actions {
  display: flex;
  flex-wrap: wrap;
  gap: .8rem;
  margin-top: 1.7rem;
}
.btn {
  border: none;
  border-radius: var(--radius-pill);
  padding: .85rem 1.45rem;
  font-size: .95rem;
  font-weight: 600;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: .45rem;
  background: rgba(15,23,42,0.96);
  color: #e5edff;
  border: 1px solid rgba(148,163,255,0.4);
  box-shadow: 0 12px 32px rgba(0,0,0,0.9);
  transition: transform var(--transition-fast),box-shadow var(--transition-fast),background var(--transition-fast),color var(--transition-fast),border-color var(--transition-fast),filter var(--transition-fast);
}
.btn span.icon { font-size: .95rem; }
.btn-primary {
  background-image: linear-gradient(120deg,var(--accent-1),var(--accent-3),var(--accent-4));
  background-size: 200% 200%;
  color: #020617;
  border-color: transparent;
  animation: heroButton 10s ease-in-out infinite;
}
.btn-secondary {
  background: radial-gradient(circle at 0 0, rgba(148,255,225,0.4), transparent 60%),rgba(15,23,42,0.97);
}
.btn-ghost {
  background: transparent;
  border-color: rgba(148,163,255,0.4);
  color: var(--text-soft);
}
.btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 16px 40px rgba(0,0,0,0.9);
  filter: brightness(1.05);
}

/* hero metrics */
.hero-metrics {
  display: flex;
  flex-wrap: wrap;
  gap: .85rem;
  margin-top: 2rem;
}
.metric-card {
  flex: 1 1 150px;
  min-width: 150px;
  background: radial-gradient(circle at 0 0, rgba(148,255,225,0.3), transparent 60%),rgba(10,18,35,0.98);
  border-radius: 20px;
  border: 1px solid var(--card-border-soft);
  padding: 1.02rem 1.05rem 1.15rem;
  box-shadow: var(--shadow-soft);
  transform-style: preserve-3d;
  transition: transform var(--transition-med),box-shadow var(--transition-med),border-color var(--transition-med),background var(--transition-med);
}
.metric-card:hover {
  transform: translateY(-3px);
  box-shadow: var(--shadow-strong);
  border-color: var(--card-border);
}
.metric-label {
  font-size: .76rem;
  letter-spacing: .16em;
  text-transform: uppercase;
  color: #c7d2fe;
}
.metric-value {
  font-size: 1.5rem;
  font-weight: 800;
  display: flex;
  align-items: baseline;
  gap: .18rem;
  margin-top: .22rem;
}
.metric-value span.suffix {
  font-size: .9rem;
  color: var(--text-soft);
}
.metric-caption {
  font-size: .82rem;
  color: var(--text-soft);
  margin-top: .2rem;
}

/* hero panel with upload */
.hero-panel {
  position: relative;
  border-radius: 26px;
  background: radial-gradient(circle at 0 0, rgba(148,255,225,0.45), transparent 60%),radial-gradient(circle at 100% 0, rgba(59,130,246,0.4), transparent 60%),rgba(10,18,35,0.98);
  border: 1px solid rgba(148,163,255,0.6);
  padding: 1.1rem 1.2rem 1.1rem;
  box-shadow: var(--shadow-strong);
  overflow: hidden;
}
.hero-panel-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: .75rem;
}
.hero-panel-title {
  font-size: .95rem;
  font-weight: 600;
}
.hero-panel-chip {
  padding: .16rem .72rem;
  border-radius: 999px;
  border: 1px solid rgba(191,219,254,0.9);
  font-size: .8rem;
  color: #e5edff;
  background: rgba(15,23,42,0.96);
}
.hero-preview {
  border-radius: 20px;
  background: radial-gradient(900px 360px at 0% 0%, rgba(129,140,248,0.48), transparent 65%),linear-gradient(180deg, rgba(15,23,42,0.97), rgba(15,23,42,0.92));
  border: 1px dashed rgba(191,219,254,0.9);
  display: grid;
  place-items: center;
  color: var(--text-soft);
  height: 230px;
  cursor: default;
  overflow: hidden;
}
.hero-preview-inner {
  width: 100%;
  height: 100%;
  display: grid;
  place-items: center;
}
.hero-preview img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  display: none;
}
.hero-preview-placeholder {
  font-size: .86rem;
  text-align: center;
  max-width: 80%;
}
.hero-panel-footer {
  margin-top: .7rem;
  display: grid;
  grid-template-columns: minmax(0,1.3fr) auto;
  gap: .55rem .7rem;
  align-items: center;
}
.hero-input {
  border-radius: var(--radius-pill);
  padding: .5rem .9rem;
  font-size: .86rem;
  border: 1px solid rgba(191,219,254,0.9);
  background: rgba(15,23,42,0.97);
  color: var(--text-main);
}
.hero-input::-webkit-file-upload-button {
  border: none;
  border-radius: 999px;
  padding: .4rem .85rem;
  margin-right: .5rem;
  background-image: linear-gradient(120deg,var(--accent-1),var(--accent-3));
  color: #020617;
  font-weight: 600;
  cursor: pointer;
}
.hero-upload-btn {
  padding-inline: 1.15rem;
  font-size: .88rem;
}
.hero-panel-tip {
  grid-column: 1 / -1;
  font-size: .8rem;
  color: var(--text-soft);
}

/* sections */
main section {
  position: relative;
  padding: 4.1rem 0;
}
section[id] {
  scroll-margin-top: calc(var(--nav-height) + 22px);
}
main section::before {
  content: "";
  position: absolute;
  inset: 0;
  opacity: .22;
  pointer-events: none;
  background: radial-gradient(620px 320px at 6% 0, rgba(59,130,246,0.3), transparent 60%),radial-gradient(600px 320px at 100% 100%, rgba(56,189,248,0.26), transparent 60%);
  mix-blend-mode: soft-light;
  z-index: -1;
}
.section-header {
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  gap: 1.2rem;
  margin-bottom: 1.8rem;
}
.section-title-block h2 {
  margin: 0 0 .35rem;
  font-size: 1.58rem;
  letter-spacing: .16em;
  text-transform: uppercase;
}
.section-title-block p {
  margin: 0;
  font-size: .93rem;
  color: var(--text-muted);
  max-width: 32rem;
}
.section-tag {
  padding: .18rem .84rem;
  border-radius: 999px;
  border: 1px solid var(--card-border-soft);
  font-size: .8rem;
  color: #c7d2fe;
  background: rgba(10,18,35,0.97);
  display: inline-flex;
  align-items: center;
  gap: .3rem;
}
.section-tag span.dot {
  width: 7px;
  height: 7px;
  border-radius: 999px;
  background: var(--accent-4);
  box-shadow: 0 0 12px rgba(34,197,94,1);
}

/* grids + cards */
.grid {
  display: grid;
  gap: 1.08rem;
}
.grid-2 { grid-template-columns: repeat(2,minmax(0,1fr)); }
.grid-3 { grid-template-columns: repeat(3,minmax(0,1fr)); }

.card {
  background: radial-gradient(circle at 0 0, rgba(148,255,225,0.32), transparent 60%),var(--card-bg);
  border-radius: var(--radius-lg);
  border: 1px solid var(--card-border-soft);
  padding: 1.22rem 1.18rem 1.3rem;
  box-shadow: var(--shadow-soft);
  position: relative;
  overflow: hidden;
  transform-style: preserve-3d;
  transition: transform var(--transition-med),box-shadow var(--transition-med),border-color var(--transition-med),background var(--transition-med),filter var(--transition-med);
}
.card::before {
  content: "";
  position: absolute;
  inset: -40%;
  background: radial-gradient(circle at 0 0, rgba(148,255,225,0.42), transparent 60%),radial-gradient(circle at 100% 100%, rgba(59,130,246,0.45), transparent 60%);
  opacity: 0;
  mix-blend-mode: soft-light;
  pointer-events: none;
  transition: opacity var(--transition-med);
}
.card:hover {
  transform: translateY(-4px);
  border-color: var(--card-border);
  box-shadow: var(--shadow-strong);
  filter: brightness(1.03);
}
.card:hover::before { opacity: 1; }
.card h3 {
  margin: 0 0 .4rem;
  font-size: 1.03rem;
}
.card p {
  margin: 0;
  font-size: .9rem;
  color: var(--text-muted);
}
.card-chips {
  display: flex;
  flex-wrap: wrap;
  gap: .42rem;
  margin-top: .8rem;
}
.chip {
  padding: .16rem .68rem;
  border-radius: var(--radius-pill);
  border: 1px solid var(--card-border-soft);
  background: rgba(10,18,35,0.97);
  font-size: .78rem;
  color: #c7d2fe;
}

/* timeline */
.timeline {
  display: grid;
  gap: 1.05rem;
}
.step {
  display: grid;
  grid-template-columns: auto 1fr;
  gap: .9rem;
  align-items: flex-start;
}
.step-bullet {
  width: 18px;
  height: 18px;
  border-radius: 999px;
  background: radial-gradient(circle at 25% 0, rgba(148,255,225,0.92), transparent 65%),#020617;
  border: 1px solid rgba(191,219,254,0.9);
  box-shadow: 0 0 0 4px rgba(59,130,246,0.45);
  margin-top: .08rem;
}
.step strong { font-size: .96rem; }
.step p {
  margin: .18rem 0 0;
  font-size: .9rem;
  color: var(--text-muted);
}

/* tables */
.table-wrap {
  border-radius: 18px;
  overflow: hidden;
  border: 1px solid var(--card-border-soft);
  background: rgba(10,18,35,0.98);
}
table {
  width: 100%;
  border-collapse: collapse;
  font-size: .86rem;
}
thead {
  background: radial-gradient(circle at 0 0, rgba(96,165,250,0.3), transparent 70%),rgba(15,23,42,0.97);
}
th,td {
  padding: .76rem .88rem;
  text-align: left;
  border-bottom: 1px solid rgba(148,163,255,0.18);
}
th {
  font-size: .79rem;
  letter-spacing: .16em;
  text-transform: uppercase;
  color: #c7d2fe;
}
tbody tr:nth-child(even) { background: rgba(10,18,35,0.98); }
tbody tr:hover {
  background: radial-gradient(circle at 0 0, rgba(56,189,248,0.18), transparent 60%),rgba(10,18,35,0.98);
}
.results-note {
  font-size: .82rem;
  color: var(--text-soft);
  margin-top: .55rem;
}

/* ROC gallery */
.dynamic-gallery {
  display: flex;
  flex-wrap: wrap;
  gap: .7rem;
}
.dynamic-gallery img {
  width: calc(33.333% - .7rem);
  border-radius: 16px;
  border: 1px solid var(--card-border-soft);
  background: #020617;
  object-fit: cover;
  aspect-ratio: 4/3;
  cursor: zoom-in;
  transition: transform var(--transition-med),box-shadow var(--transition-med),border-color var(--transition-med),filter var(--transition-med);
}
.dynamic-gallery img:hover {
  transform: translateY(-3px) scale(1.03);
  box-shadow: var(--shadow-soft);
  border-color: var(--card-border);
  filter: brightness(1.05);
}

/* Grad-CAM case explorer slider */
.case-tabs {
  display: inline-flex;
  flex-wrap: wrap;
  gap: .4rem;
  margin-bottom: .85rem;
}
.case-tab {
  padding: .34rem .8rem;
  border-radius: var(--radius-pill);
  border: 1px solid rgba(148,163,255,0.45);
  background: rgba(10,18,35,0.97);
  font-size: .78rem;
  color: var(--text-soft);
  cursor: pointer;
  transition: background var(--transition-fast),color var(--transition-fast),border-color var(--transition-fast),transform var(--transition-fast);
}
.case-tab.active {
  background: radial-gradient(circle at 0 0, rgba(148,255,225,0.52), transparent 60%),rgba(15,23,42,0.97);
  color: #e5edff;
  border-color: rgba(148,163,255,0.9);
  transform: translateY(-1px);
}
.compare-grid {
  display: grid;
  grid-template-columns: minmax(0,1fr);
  gap: 1rem;
}
.compare {
  position: relative;
  border-radius: 20px;
  overflow: hidden;
  border: 1px solid var(--card-border-soft);
  background: #020617;
  box-shadow: var(--shadow-soft);
}
.compare-inner {
  position: relative;
  overflow: hidden;
  height: 260px;
}
.compare-before,
.compare-after {
  position: absolute;
  inset: 0;
}
.compare-img {
  display: block;
  width: 100%;
  height: 100%;
  object-fit: cover;
}
.compare-after {
  clip-path: inset(0 0 0 50%);
}
.compare-labels {
  position: absolute;
  inset: .8rem .8rem auto;
  display: flex;
  justify-content: space-between;
  pointer-events: none;
}
.compare-label {
  padding: .16rem .6rem;
  border-radius: 999px;
  background: rgba(10,18,35,0.96);
  font-size: .78rem;
  border: 1px solid rgba(191,219,254,0.9);
}
.compare-slider {
  position: absolute;
  inset-inline: 0;
  bottom: 0;
  padding: .5rem .9rem .7rem;
  background: linear-gradient(180deg, transparent, rgba(0,0,0,0.85));
  display: flex;
  align-items: center;
  gap: .4rem;
}
.compare-slider input[type="range"] {
  flex: 1;
  appearance: none;
  height: 4px;
  border-radius: 999px;
  background: rgba(148,163,255,0.7);
  outline: none;
}
.compare-slider input[type="range"]::-webkit-slider-thumb {
  appearance: none;
  width: 14px;
  height: 14px;
  border-radius: 999px;
  background: #e5edff;
  border: 2px solid rgba(15,23,42,0.96);
  box-shadow: 0 0 0 4px rgba(148,163,255,0.5);
}

/* qualitative cards */
.qual-grid {
  display: grid;
  grid-template-columns: repeat(3,minmax(0,1fr));
  gap: 1.05rem;
}
.qual-card {
  border-radius: 20px;
  background: radial-gradient(circle at 0 0, rgba(148,255,225,0.32), transparent 60%),rgba(10,18,35,0.97);
  border: 1px solid var(--card-border-soft);
  padding: 1.15rem 1.1rem 1.25rem;
  box-shadow: var(--shadow-soft);
  transition: transform var(--transition-med),box-shadow var(--transition-med),border-color var(--transition-med),filter var(--transition-med);
}
.qual-card:hover {
  transform: translateY(-3px);
  box-shadow: var(--shadow-strong);
  border-color: var(--card-border);
  filter: brightness(1.03);
}
.qual-title {
  margin: 0 0 .4rem;
  font-size: .98rem;
}
.qual-img {
  border-radius: 14px;
  border: 1px dashed rgba(191,219,254,0.9);
  background: #020617;
  display: grid;
  place-items: center;
  font-size: .86rem;
  color: var(--text-soft);
  aspect-ratio: 4/3;
  margin-bottom: .5rem;
  cursor: zoom-in;
}
.qual-text {
  font-size: .84rem;
  color: var(--text-soft);
}

/* team */
.team-section {
  position: relative;
  overflow: hidden;
}
.team-section::before {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(1000px 500px at 10% 0, rgba(59,130,246,0.5), transparent 60%),radial-gradient(900px 460px at 90% 100%, rgba(34,197,94,0.42), transparent 60%);
  opacity: .9;
  mix-blend-mode: screen;
  pointer-events: none;
  z-index: -2;
}
.team-stars {
  position: absolute;
  inset: 0;
  background-image:
    radial-gradient(2px 2px at 20% 30%, rgba(248,250,252,0.85), transparent),
    radial-gradient(2px 2px at 80% 70%, rgba(248,250,252,0.8), transparent),
    radial-gradient(1.5px 1.5px at 40% 80%, rgba(148,163,255,0.9), transparent),
    radial-gradient(1.5px 1.5px at 15% 75%, rgba(52,211,153,0.9), transparent);
  opacity: .32;
  pointer-events: none;
  z-index: -1;
}
.team-header-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1.2rem;
  margin-bottom: 1.7rem;
}
.team-title-block h2 {
  margin: 0;
  font-size: 1.6rem;
  letter-spacing: .16em;
  text-transform: uppercase;
}
.team-title-block p {
  margin: .5rem 0 0;
  font-size: .92rem;
  color: var(--text-muted);
  max-width: 40rem;
}
.team-pill {
  padding: .2rem .9rem;
  border-radius: var(--radius-pill);
  border: 1px solid var(--card-border);
  background: rgba(10,18,35,0.97);
  font-size: .8rem;
  color: #c7d2fe;
  display: inline-flex;
  align-items: center;
  gap: .3rem;
}
.team-pill span.dot {
  width: 7px;
  height: 7px;
  border-radius: 999px;
  background: var(--accent-4);
  box-shadow: 0 0 12px rgba(34,197,94,1);
}
.team-row {
  display: grid;
  grid-template-columns: repeat(5,minmax(0,1fr));
  gap: 1.05rem;
  margin-top: 1rem;
}
.team-card {
  border-radius: 22px;
  background: radial-gradient(circle at 0 0, rgba(148,255,225,0.6), transparent 60%),radial-gradient(circle at 100% 0, rgba(59,130,246,0.5), transparent 60%),rgba(10,18,35,0.97);
  border: 1px solid var(--card-border-soft);
  padding: 1.3rem 1.1rem 1.4rem;
  text-align: center;
  position: relative;
  box-shadow: var(--shadow-soft);
  overflow: hidden;
  transition: transform var(--transition-med),box-shadow var(--transition-med),border-color var(--transition-med),background var(--transition-med),filter var(--transition-med);
}
.team-card::before {
  content: "";
  position: absolute;
  inset: -40%;
  background: radial-gradient(circle at 0 0, rgba(148,255,225,0.65), transparent 60%),radial-gradient(circle at 100% 100%, rgba(59,130,246,0.8), transparent 60%);
  mix-blend-mode: soft-light;
  opacity: 0;
  pointer-events: none;
  transition: opacity var(--transition-med);
}
.team-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-strong);
  border-color: var(--card-border);
  filter: brightness(1.04);
}
.team-card:hover::before { opacity: 1; }
.team-avatar {
  width: 78px;
  height: 78px;
  border-radius: 999px;
  margin-inline: auto;
  background: conic-gradient(from 220deg,#8ef2d4,#4f46e5,#7aa2ff,#8ef2d4);
  display: grid;
  place-items: center;
  font-weight: 800;
  color: #020617;
  font-size: 20px;
  box-shadow: 0 0 0 1px rgba(248,250,252,0.96),0 16px 38px rgba(15,23,42,1);
}
.team-name {
  margin: .7rem 0 .1rem;
  font-weight: 600;
  font-size: .99rem;
}
.team-role-main {
  font-size: .9rem;
  color: #e5edff;
}
.team-role-detail {
  margin-top: .4rem;
  font-size: .82rem;
  color: var(--text-soft);
}

/* footer */
footer {
  margin-top: 2.2rem;
  padding: 2.6rem 0 2.3rem;
  background: linear-gradient(180deg,#020617,#020617);
  border-top: 1px solid rgba(148,163,255,0.35);
}
.footer-grid {
  width: min(100% - 3rem, var(--max-width));
  margin-inline: auto;
  display: grid;
  grid-template-columns: 1.7fr 1fr 1fr;
  gap: 1.4rem;
  font-size: .86rem;
  color: var(--text-soft);
}
.footer-brand {
  display: flex;
  align-items: center;
  gap: .8rem;
  margin-bottom: .35rem;
}
.footer-brand-title { font-weight: 600; }
.footer-col strong {
  font-size: .92rem;
  color: var(--text-main);
}
.footer-links {
  list-style: none;
  padding: 0;
  margin: .55rem 0 0;
}
.footer-links li + li { margin-top: .2rem; }
.footer-links a {
  color: var(--text-main);
  opacity: .88;
  transition: opacity var(--transition-fast),transform var(--transition-fast);
}
.footer-links a:hover {
  opacity: 1;
  transform: translateX(2px);
}

/* back to top */
.back-top {
  position: fixed;
  bottom: 1.5rem;
  right: 1.5rem;
  width: 40px;
  height: 40px;
  border-radius: 999px;
  border: 1px solid rgba(148,163,255,0.7);
  background: radial-gradient(circle at 20% 0, rgba(148,255,225,0.7), transparent 60%),rgba(15,23,42,0.97);
  color: #e5edff;
  display: grid;
  place-items: center;
  cursor: pointer;
  box-shadow: 0 14px 40px rgba(0,0,0,0.9);
  opacity: 0;
  pointer-events: none;
  transform: translateY(8px);
  transition: opacity var(--transition-med),transform var(--transition-med),box-shadow var(--transition-fast),background var(--transition-fast);
  z-index: 70;
}
.back-top.visible {
  opacity: 1;
  pointer-events: auto;
  transform: translateY(0);
}
.back-top:hover {
  box-shadow: 0 18px 48px rgba(0,0,0,0.95);
}

/* modal */
.modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.86);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 80;
}
.modal-inner {
  max-width: 90vw;
  max-height: 90vh;
}
.modal-img {
  max-width: 100%;
  max-height: 80vh;
  border-radius: 22px;
  box-shadow: 0 20px 70px rgba(0,0,0,0.95);
}
.modal-caption {
  margin-top: .6rem;
  font-size: .86rem;
  color: #e5edff;
  text-align: center;
}
.modal-close {
  position: absolute;
  top: 1.6rem;
  right: 1.6rem;
  width: 34px;
  height: 34px;
  border-radius: 999px;
  border: 1px solid rgba(191,219,254,0.9);
  background: rgba(15,23,42,0.97);
  display: grid;
  place-items: center;
  cursor: pointer;
  color: #e5edff;
  font-size: 1rem;
}

/* reveal */
.reveal {
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 480ms ease,transform 480ms ease;
}
.reveal.visible {
  opacity: 1;
  transform: translateY(0);
}

/* animations */
@keyframes navGradient {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}
@keyframes heroButton {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}
@keyframes starDrift {
  0% { transform: translate3d(0,0,0); }
  100% { transform: translate3d(30px,24px,0); }
}

/* responsive */
@media (max-width: 1020px) {
  .hero-inner { grid-template-columns: minmax(0,1fr); }
  .hero-panel { order: -1; }
  .grid-3 { grid-template-columns: repeat(2,minmax(0,1fr)); }
  .team-row { grid-template-columns: repeat(3,minmax(0,1fr)); }
  .footer-grid { grid-template-columns: 1.4fr 1fr; }
}
@media (max-width: 880px) {
  .nav-links { display: none; }
  .nav-toggle { display: inline-flex; }
  .mega { display: none; }
}
@media (max-width: 820px) {
  .container,
  .nav-inner,
  .footer-grid {
    width: min(100% - 2.1rem, var(--max-width));
  }
  .hero { padding-top: 4.2rem; }
  .hero-actions { flex-direction: column; }
  .btn { width: 100%; justify-content: center; }
  .grid-2,
  .grid-3 { grid-template-columns: minmax(0,1fr); }
  .qual-grid { grid-template-columns: minmax(0,1fr); }
  .dynamic-gallery img { width: calc(50% - .7rem); }
  .team-row { grid-template-columns: repeat(2,minmax(0,1fr)); }
  .section-header,
  .team-header-row {
    align-items: flex-start;
    flex-direction: column;
  }
  .hero-panel-footer {
    grid-template-columns: minmax(0,1fr);
  }
}
@media (max-width: 540px) {
  .dynamic-gallery img { width: 100%; }
  .hero-metrics { gap: .7rem; }
  .team-row { grid-template-columns: minmax(0,1fr); }
  .footer-grid { grid-template-columns: minmax(0,1fr); }
}
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    scroll-behavior: auto !important;
    animation-duration: .01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: .01ms !important;
  }
}
</style>
</head>
<body>
<div class="page-shell" id="pageRoot">
  <div class="nav-shell" id="navShell">
    <header>
      <div class="nav-inner">
        <div class="nav-left">
          <div class="nav-logo" aria-hidden="true">XR</div>
          <div>
            <div class="nav-title-main">STA 160 · Chest X-ray</div>
            <div class="nav-title-sub">Multi-label thoracic pathology classification</div>
          </div>
        </div>
        <nav class="nav-links" aria-label="Primary">
          <div class="nav-item nav-has-mega" id="megaItem">
            <button class="nav-mega-toggle nav-link nav-link-ghost" type="button">
              Overview
              <span class="icon">▾</span>
            </button>
            <div class="mega" id="megaPanel">
              <div class="mega-inner">
                <div class="mega-grid">
                  <div>
                    <div class="mega-col-title">Study</div>
                    <a href="#overview" class="mega-link">
                      <span class="label">Project overview</span>
                      <span class="desc">Motivation, goals, and dataset scope.</span>
                    </a>
                    <a href="#datasets" class="mega-link">
                      <span class="label">NIH ChestX-ray14</span>
                      <span class="desc">Cohort, labels, and split strategy.</span>
                    </a>
                  </div>
                  <div>
                    <div class="mega-col-title">Pipeline</div>
                    <a href="#method" class="mega-link">
                      <span class="label">Method</span>
                      <span class="desc">Preprocessing, models, training strategy.</span>
                    </a>
                    <a href="#results" class="mega-link">
                      <span class="label">Metrics</span>
                      <span class="desc">Model comparison and test performance.</span>
                    </a>
                  </div>
                  <div>
                    <div class="mega-col-title">Visuals</div>
                    <a href="#gallery" class="mega-link">
                      <span class="label">Grad-CAM examples</span>
                      <span class="desc">Representative TP, FP, and FN cases.</span>
                    </a>
                    <a href="#team" class="mega-link">
                      <span class="label">Team</span>
                      <span class="desc">Roles across modeling, data, and reporting.</span>
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <a class="nav-link" href="#datasets">Datasets</a>
          <a class="nav-link" href="#method">Method</a>
          <a class="nav-link" href="#results">Results</a>
          <a class="nav-link" href="#gallery">Gallery</a>
          <a class="nav-link" href="#team">Team</a>
          <a class="nav-link nav-link-primary" href="#results">
            View results
            <span class="icon">↗</span>
          </a>
        </nav>
        <button type="button" class="nav-toggle" id="navToggle" aria-label="Toggle navigation">
          <span class="nav-toggle-bar"></span>
        </button>
      </div>
      <div class="nav-mobile" id="navMobile">
        <div class="nav-mobile-inner">
          <a class="nav-link" href="#overview">Overview</a>
          <a class="nav-link" href="#datasets">Datasets</a>
          <a class="nav-link" href="#method">Method</a>
          <a class="nav-link" href="#results">Results</a>
          <a class="nav-link" href="#gallery">Gallery</a>
          <a class="nav-link" href="#team">Team</a>
          <a class="nav-link nav-link-primary" href="#results">
            View results
            <span class="icon">↗</span>
          </a>
        </div>
      </div>
    </header>
  </div>

  <main>
    <section class="hero" id="overview">
      <div class="hero-layer is-gradient"></div>
      <div class="hero-layer is-particles"></div>
      <div class="container hero-inner">
        <div class="reveal">
          <div class="hero-kicker">NIH ChestX-ray14 · CNNs · Transfer Learning</div>
          <h1 class="hero-title">
            Chest X-ray Classification for
            <span>Multi-Label Pathologies</span>
          </h1>
          <p class="hero-subtitle">
            We investigate deep learning approaches for automated thoracic disease detection.
            Using pre-trained CNNs on the NIH ChestX-ray14 dataset, we build a pipeline for
            curation, preprocessing, training, calibration, and error analysis.
          </p>
          <div class="hero-actions">
            <button type="button" class="btn btn-primary" data-scroll="#results">
              View results
              <span class="icon">⟶</span>
            </button>
            <button type="button" class="btn btn-secondary" data-scroll="#method">
              See the method
              <span class="icon">▾</span>
            </button>
            <button type="button" class="btn btn-ghost" data-scroll="#gallery">
              Explore examples
              <span class="icon">◎</span>
            </button>
          </div>
          <div class="hero-metrics">
            <div class="metric-card reveal" data-count data-target="112" data-suffix="k+">
              <div class="metric-label">NIH IMAGES</div>
              <div class="metric-value">
                <span class="num">112</span>
                <span class="suffix">k+</span>
              </div>
              <div class="metric-caption">Frontal chest X-rays from ChestX-ray14.</div>
            </div>
            <div class="metric-card reveal" data-count data-target="14">
              <div class="metric-label">PATHOLOGY LABELS</div>
              <div class="metric-value">
                <span class="num">14</span>
              </div>
              <div class="metric-caption">Multi-label thoracic findings per image.</div>
            </div>
            <div class="metric-card reveal" data-count data-target="3">
              <div class="metric-label">CNN BACKBONES</div>
              <div class="metric-value">
                <span class="num">3</span>
              </div>
              <div class="metric-caption">DenseNet-121, EfficientNet-B4, and ResNet-50.</div>
            </div>
            <div class="metric-card reveal" data-count data-target="70" data-suffix="%">
              <div class="metric-label">TRAINING SPLIT</div>
              <div class="metric-value">
                <span class="num">70</span>
                <span class="suffix">%</span>
              </div>
              <div class="metric-caption">Patient-wise train / validation / test partitioning.</div>
            </div>
          </div>
        </div>

        <aside class="hero-panel reveal" aria-label="Model preview card">
          <div class="hero-panel-header">
            <div class="hero-panel-title">Upload a chest X-ray</div>
            <div class="hero-panel-chip">Preview only</div>
          </div>
          <div class="hero-preview" id="previewWrapper">
            <div class="hero-preview-inner">
              <img id="previewImage" src="" alt="Uploaded chest X-ray preview">
              <div class="hero-preview-placeholder" id="previewPlaceholder">
                Drop a PNG/JPG here or choose a file below to see it inside the project layout.
              </div>
            </div>
          </div>
          <div class="hero-panel-footer">
            <input type="file" id="fileInput" accept="image/*" class="hero-input">
            <button type="button" class="btn btn-secondary hero-upload-btn" id="uploadBtn">
              Preview image
            </button>
            <p class="hero-panel-tip" id="result">
              Tip: choose an image file and click “Preview image”. This viewer is for visualization only; model inference is not wired here.
            </p>
          </div>
        </aside>
      </div>
    </section>

    <section id="datasets">
      <div class="container">
        <div class="section-header reveal">
          <div class="section-title-block">
            <h2>DATASETS</h2>
            <p>
              NIH ChestX-ray14 processed using patient-wise splits, calibrated evaluation,
              and ethics-conscious test design.
            </p>
          </div>
          <div class="section-tag">
            <span class="dot"></span>
            <span>Data curation</span>
          </div>
        </div>
        <div class="grid grid-3">
          <article class="card reveal">
            <h3>NIH ChestX-ray14</h3>
            <p>
              112,120 frontal chest X-rays annotated for 14 thoracic pathologies
              with long-tailed label distributions and overlapping conditions.
            </p>
            <div class="card-chips">
              <span class="chip">Multi-label targets</span>
              <span class="chip">Frontal view</span>
              <span class="chip">Public benchmark</span>
            </div>
          </article>
          <article class="card reveal">
            <h3>Preprocessing & Splits</h3>
            <p>
              Images are resized to 224×224, transformed to single-channel grayscale,
              normalized, and split at the patient level into training, validation, and test sets.
            </p>
            <div class="card-chips">
              <span class="chip">224×224 resize</span>
              <span class="chip">Grayscale normalization</span>
              <span class="chip">Patient-wise splits</span>
            </div>
          </article>
          <article class="card reveal">
            <h3>Ethics & Evaluation</h3>
            <p>
              Held-out evaluation emphasizes label prevalence, calibration, and sensitivity
              to potential shortcuts such as imaging devices and view position.
            </p>
            <div class="card-chips">
              <span class="chip">Stratified test set</span>
              <span class="chip">Calibration checks</span>
              <span class="chip">Shortcut analysis</span>
            </div>
          </article>
        </div>
      </div>
    </section>

    <section id="method">
      <div class="container">
        <div class="section-header reveal">
          <div class="section-title-block">
            <h2>METHOD</h2>
            <p>
              A stepwise pipeline from raw images to calibrated, interpretable multi-label predictions.
            </p>
          </div>
          <div class="section-tag">
            <span class="dot"></span>
            <span>Reproducible pipeline</span>
          </div>
        </div>
        <div class="card reveal">
          <div class="timeline">
            <div class="step">
              <div class="step-bullet" aria-hidden="true"></div>
              <div>
                <strong>Preprocessing</strong>
                <p>
                  DICOM/PNG load → resize to 224×224 → grayscale normalization → optional contrast enhancement
                  → patient-wise train/validation/test split.
                </p>
              </div>
            </div>
            <div class="step">
              <div class="step-bullet" aria-hidden="true"></div>
              <div>
                <strong>Model architectures</strong>
                <p>
                  DenseNet-121, EfficientNet-B4, and ResNet-50 initialized from ImageNet, followed by a final
                  sigmoid layer for multi-label classification of the 14 pathologies.
                </p>
              </div>
            </div>
            <div class="step">
              <div class="step-bullet" aria-hidden="true"></div>
              <div>
                <strong>Training strategy</strong>
                <p>
                  BCEWithLogitsLoss with class weights, AdamW optimizer, cosine learning rate schedule,
                  and early stopping driven by validation macro AUC-ROC.
                </p>
              </div>
            </div>
            <div class="step">
              <div class="step-bullet" aria-hidden="true"></div>
              <div>
                <strong>Evaluation</strong>
                <p>
                  Macro and micro AUC-ROC / AUC-PR, per-label metrics,
                  and label-specific threshold selection using Youden’s J statistic
                  to balance sensitivity and specificity.
                </p>
              </div>
            </div>
            <div class="step">
              <div class="step-bullet" aria-hidden="true"></div>
              <div>
                <strong>Error analysis</strong>
                <p>
                  Grad-CAM explanations, breakdown by device and view,
                  and inspection of representative true positives, false positives,
                  and false negatives to understand failure modes.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="results">
      <div class="container">
        <div class="section-header reveal">
          <div class="section-title-block">
            <h2>RESULTS</h2>
            <p>
              Model comparison and ResNet-50 performance on validation and held-out test sets.
            </p>
          </div>
          <div class="section-tag">
            <span class="dot"></span>
            <span>Metrics</span>
          </div>
        </div>

        <div class="grid grid-2">
          <article class="card reveal">
            <h3>Model comparison (validation)</h3>
            <div class="table-wrap">
              <table aria-label="Model comparison">
                <thead>
                  <tr>
                    <th>Model</th>
                    <th>Macro AUC-ROC</th>
                    <th>Macro F1</th>
                    <th>Notes</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>DenseNet-121</td>
                    <td>0.7407</td>
                    <td>0.216</td>
                    <td>Baseline configuration.</td>
                  </tr>
                  <tr>
                    <td>EfficientNet-B4</td>
                    <td>0.7503</td>
                    <td>0.233</td>
                    <td>Higher capacity, moderate gains.</td>
                  </tr>
                  <tr>
                    <td>ResNet-50</td>
                    <td>0.7966</td>
                    <td>0.292</td>
                    <td>Best overall validation performance.</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <p class="results-note">
              Metrics highlight a clear improvement when moving from DenseNet-121 to ResNet-50,
              both in macro AUC-ROC and macro F1.
            </p>
          </article>

          <article class="card reveal">
            <h3>ResNet-50 summary</h3>
            <div class="table-wrap">
              <table aria-label="ResNet-50 summary">
                <thead>
                  <tr>
                    <th></th>
                    <th>Macro AUC-ROC</th>
                    <th>Macro F1</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Validation</td>
                    <td>0.795</td>
                    <td>0.284</td>
                  </tr>
                  <tr>
                    <td>Test</td>
                    <td>0.757</td>
                    <td>0.295</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <p class="results-note">
              On the held-out test set, ResNet-50 maintains macro F1 while showing a modest
              drop in macro AUC-ROC, consistent with a realistic generalization gap.
            </p>
          </article>
        </div>

        <div style="height:1.5rem"></div>

        <div class="grid grid-2">
          <article class="card reveal">
            <h3>ROC and confusion matrix gallery</h3>
            <div class="dynamic-gallery" data-gallery>
              <img src="assets/roc_dense.png" alt="DenseNet-121 ROC curve" data-caption="DenseNet-121 ROC curve on the validation set">
              <img src="assets/roc_resnet.png" alt="ResNet-50 ROC curve" data-caption="ResNet-50 ROC curve on the validation set">
              <img src="assets/cm_resnet.png" alt="ResNet-50 confusion matrix" data-caption="ResNet-50 confusion matrix for selected labels">
            </div>
            <p class="results-note">
              Add or remove images in this gallery; the layout adapts automatically to your ROC and confusion matrix plots.
            </p>
          </article>

          <article class="card reveal">
            <h3>Grad-CAM overlay case explorer</h3>
            <div class="case-tabs" id="caseTabs">
              <button class="case-tab active" data-case="tp">True positive</button>
              <button class="case-tab" data-case="fp">False positive</button>
              <button class="case-tab" data-case="fn">False negative</button>
            </div>
            <div class="compare-grid">
              <div class="compare" data-compare id="gradCompare">
                <div class="compare-inner">
                  <img src="assets/grad_tp_before.png" alt="Original chest X-ray" class="compare-img compare-before" id="compareBefore">
                  <img src="assets/grad_tp_after.png" alt="Grad-CAM overlay" class="compare-img compare-after" id="compareAfter">
                  <div class="compare-labels">
                    <div class="compare-label" id="compareLabelLeft">Original</div>
                    <div class="compare-label" id="compareLabelRight">Grad-CAM</div>
                  </div>
                </div>
                <div class="compare-slider">
                  <span style="font-size:.78rem;color:#e5edff">Overlay</span>
                  <input type="range" min="0" max="100" value="50" id="compareRange">
                </div>
              </div>
            </div>
            <p class="results-note" id="caseDescription">
              Cardiomegaly correctly detected; Grad-CAM focuses on the cardiac silhouette rather than external devices,
              reinforcing that the model attends to clinically relevant regions.
            </p>
          </article>
        </div>
      </div>
    </section>

    <section id="gallery">
      <div class="container">
        <div class="section-header reveal">
          <div class="section-title-block">
            <h2>QUALITATIVE EXAMPLES</h2>
            <p>
              Representative cases illustrating how the model behaves on true positives,
              false positives, and false negatives.
            </p>
          </div>
          <div class="section-tag">
            <span class="dot"></span>
            <span>Grad-CAM · Predictions</span>
          </div>
        </div>
        <div class="qual-grid">
          <article class="qual-card reveal">
            <h3 class="qual-title">True positive</h3>
            <div class="qual-img" data-modal-src="assets/grad_tp.png" data-modal-caption="True positive Grad-CAM example">
              gradcam_tp.png
            </div>
            <p class="qual-text">
              Cardiomegaly correctly detected; Grad-CAM focuses on the cardiac silhouette
              rather than external devices, supporting the idea that the model leverages
              clinically meaningful regions.
            </p>
          </article>
          <article class="qual-card reveal">
            <h3 class="qual-title">False positive</h3>
            <div class="qual-img" data-modal-src="assets/grad_fp.png" data-modal-caption="False positive Grad-CAM example">
              gradcam_fp.png
            </div>
            <p class="qual-text">
              The prediction is driven by attention on monitoring equipment,
              illustrating shortcut learning that motivates device-aware augmentations
              and more careful validation.
            </p>
          </article>
          <article class="qual-card reveal">
            <h3 class="qual-title">False negative</h3>
            <div class="qual-img" data-modal-src="assets/grad_fn.png" data-modal-caption="False negative Grad-CAM example">
              gradcam_fn.png
            </div>
            <p class="qual-text">
              A subtle effusion is missed at default thresholds but becomes detectable
              after label-specific threshold tuning and calibration, highlighting the
              sensitivity–specificity trade-offs.
            </p>
          </article>
        </div>
      </div>
    </section>

    <section id="team" class="team-section">
      <div class="team-stars"></div>
      <div class="container">
        <div class="team-header-row reveal">
          <div class="team-title-block">
            <h2>TEAM</h2>
            <p>
              Team 11 · STA 160 · UC Davis — combining modeling, data curation,
              training operations, visualization, and reporting.
            </p>
          </div>
          <div class="team-pill">
            <span class="dot"></span>
            <span>STA 160 · UC Davis</span>
          </div>
        </div>

        <div class="team-row">
          <article class="team-card reveal">
            <div class="team-avatar" aria-hidden="true">ML</div>
            <div class="team-name">Muhammad Laiq</div>
            <div class="team-role-main">Lead · Modeling & Docs</div>
            <div class="team-role-detail">
              Model design, training strategy, hyperparameter selection,
              and primary report writing for the project.
            </div>
          </article>

          <article class="team-card reveal">
            <div class="team-avatar" aria-hidden="true">TY</div>
            <div class="team-name">Tina Yu</div>
            <div class="team-role-main">Training Ops & Visualization</div>
            <div class="team-role-detail">
              Experiments, training pipelines, hyperparameter sweeps,
              Grad-CAM exploration, and metric visualization.
            </div>
          </article>

          <article class="team-card reveal">
            <div class="team-avatar" aria-hidden="true">KS</div>
            <div class="team-name">Kayla Sham</div>
            <div class="team-role-main">Data & EDA</div>
            <div class="team-role-detail">
              Data cleaning, exploratory analysis, cohort statistics,
              and label distribution studies on ChestX-ray14.
            </div>
          </article>

          <article class="team-card reveal">
            <div class="team-avatar" aria-hidden="true">LL</div>
            <div class="team-name">Lauren Le</div>
            <div class="team-role-main">Reporting & Evaluation</div>
            <div class="team-role-detail">
              Result synthesis, error analysis, and preparation of the final
              STA 160 report and slides.
            </div>
          </article>

          <article class="team-card reveal">
            <div class="team-avatar" aria-hidden="true">FS</div>
            <div class="team-name">Fang Shang</div>
            <div class="team-role-main">Training Ops & Website</div>
            <div class="team-role-detail">
              Result organization, website design, interactive visualization,
              and joint review of evaluation outcomes.
            </div>
          </article>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="footer-grid">
      <div>
        <div class="footer-brand">
          <div class="nav-logo" aria-hidden="true">XR</div>
          <div>
            <div class="footer-brand-title">Chest X-ray Project</div>
            <div>STA 160 · Fall 2025 · UC Davis</div>
          </div>
        </div>
        <p>
          Chest X-ray classification for multi-label thoracic pathologies using the NIH ChestX-ray14 dataset.
          This site presents the core ideas, pipeline, and results from Team 11.
        </p>
      </div>
      <div class="footer-col">
        <strong>Links</strong>
        <ul class="footer-links">
          <li><a href="#datasets">Datasets</a></li>
          <li><a href="#method">Method</a></li>
          <li><a href="#results">Results</a></li>
          <li><a href="#gallery">Gallery</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <strong>Contact</strong>
        <ul class="footer-links">
          <li><a href="mailto:you@example.edu">you@example.edu</a></li>
          <li><a href="#">GitHub repo</a></li>
          <li><a href="#">Paper / Report (PDF)</a></li>
        </ul>
      </div>
    </div>
  </footer>
</div>

<button class="back-top" id="backTop" aria-label="Back to top">↑</button>

<div class="modal" id="imageModal" aria-hidden="true">
  <button class="modal-close" id="modalClose" aria-label="Close">✕</button>
  <div class="modal-inner">
    <img class="modal-img" id="modalImg" alt="">
    <div class="modal-caption" id="modalCaption"></div>
  </div>
</div>

<script>
var navShell=document.getElementById("navShell");
var navToggle=document.getElementById("navToggle");
var navMobile=document.getElementById("navMobile");
var backTop=document.getElementById("backTop");

if(navToggle){
  navToggle.addEventListener("click",function(){
    navShell.classList.toggle("nav-open");
  });
}
if(navMobile){
  navMobile.addEventListener("click",function(e){
    var link=e.target.closest("a.nav-link");
    if(link){
      navShell.classList.remove("nav-open");
    }
  });
}

document.querySelectorAll("[data-scroll]").forEach(function(btn){
  btn.addEventListener("click",function(){
    var sel=btn.getAttribute("data-scroll");
    if(!sel)return;
    var t=document.querySelector(sel);
    if(t){
      t.scrollIntoView({behavior:"smooth",block:"start"});
    }
  });
});

document.querySelectorAll("a[href^='#']").forEach(function(link){
  link.addEventListener("click",function(e){
    var id=link.getAttribute("href");
    if(!id||id==="#")return;
    var t=document.querySelector(id);
    if(t){
      e.preventDefault();
      navShell.classList.remove("nav-open");
      t.scrollIntoView({behavior:"smooth",block:"start"});
    }
  });
});

window.addEventListener("scroll",function(){
  var y=window.scrollY||window.pageYOffset;
  if(backTop){
    if(y>260){
      backTop.classList.add("visible");
    }else{
      backTop.classList.remove("visible");
    }
  }
});

if(backTop){
  backTop.addEventListener("click",function(){
    window.scrollTo({top:0,behavior:"smooth"});
  });
}

var revealEls=document.querySelectorAll(".reveal");
if("IntersectionObserver" in window){
  var ro=new IntersectionObserver(function(entries,obs){
    entries.forEach(function(entry){
      if(entry.isIntersecting){
        entry.target.classList.add("visible");
        obs.unobserve(entry.target);
      }
    });
  },{threshold:0.18});
  revealEls.forEach(function(el){ro.observe(el)});
}else{
  revealEls.forEach(function(el){el.classList.add("visible")});
}

var metricCards=document.querySelectorAll("[data-count]");
if("IntersectionObserver" in window){
  var mo=new IntersectionObserver(function(entries,obs){
    entries.forEach(function(entry){
      if(entry.isIntersecting){
        var el=entry.target;
        var target=parseFloat(el.getAttribute("data-target")||"0");
        var numSpan=el.querySelector(".num");
        if(!numSpan){obs.unobserve(el);return}
        var start=null;
        function step(ts){
          if(!start)start=ts;
          var p=Math.min((ts-start)/900,1);
          var val=Math.floor(target*p);
          numSpan.textContent=val.toString();
          if(p<1){
            window.requestAnimationFrame(step);
          }else{
            numSpan.textContent=target.toString();
          }
        }
        window.requestAnimationFrame(step);
        obs.unobserve(el);
      }
    });
  },{threshold:0.55});
  metricCards.forEach(function(el){mo.observe(el)});
}

var compare=document.querySelector("[data-compare]");
if(compare){
  var range=document.getElementById("compareRange");
  var after=compare.querySelector(".compare-after");
  if(range&&after){
    range.addEventListener("input",function(){
      var v=parseInt(range.value,10);
      after.style.clipPath="inset(0 0 0 "+v+"%)";
    });
  }
}

var modal=document.getElementById("imageModal");
var modalImg=document.getElementById("modalImg");
var modalCaption=document.getElementById("modalCaption");
var modalClose=document.getElementById("modalClose");
function openModal(src,cap){
  if(!modal||!modalImg)return;
  modalImg.src=src||"";
  modalCaption.textContent=cap||"";
  modal.style.display="flex";
  modal.setAttribute("aria-hidden","false");
}
function closeModal(){
  if(!modal)return;
  modal.style.display="none";
  modal.setAttribute("aria-hidden","true");
}

document.querySelectorAll("[data-gallery] img, .hero-preview[data-modal-src], .qual-img[data-modal-src]").forEach(function(el){
  el.addEventListener("click",function(){
    var src=el.getAttribute("data-modal-src")||el.getAttribute("src");
    var cap=el.getAttribute("data-caption")||el.getAttribute("alt")||el.getAttribute("data-modal-caption")||"";
    openModal(src,cap);
  });
});

if(modal){
  modal.addEventListener("click",function(e){
    if(e.target===modal){closeModal()}
  });
}
if(modalClose){
  modalClose.addEventListener("click",function(){closeModal()});
}

var megaItem=document.getElementById("megaItem");
var megaPanel=document.getElementById("megaPanel");
if(megaItem&&megaPanel){
  var megaToggle=megaItem.querySelector(".nav-mega-toggle");
  megaItem.addEventListener("mouseenter",function(){
    megaItem.classList.add("show-mega");
  });
  megaItem.addEventListener("mouseleave",function(){
    megaItem.classList.remove("show-mega");
  });
  if(megaToggle){
    megaToggle.addEventListener("click",function(e){
      e.stopPropagation();
      megaItem.classList.toggle("show-mega");
    });
  }
  document.addEventListener("click",function(e){
    if(!megaItem.contains(e.target)){
      megaItem.classList.remove("show-mega");
    }
  });
}

/* upload preview only */
var fileInput=document.getElementById("fileInput");
var previewImage=document.getElementById("previewImage");
var previewPlaceholder=document.getElementById("previewPlaceholder");
var uploadBtn=document.getElementById("uploadBtn");
var result=document.getElementById("result");

function handleFileSelection(){
  if(!fileInput||!previewImage)return;
  var file=fileInput.files&&fileInput.files[0];
  if(!file){
    previewImage.style.display="none";
    if(previewPlaceholder){previewPlaceholder.style.display="block";}
    if(result){result.textContent="Please select an image file to preview.";}
    return;
  }
  var url=URL.createObjectURL(file);
  previewImage.src=url;
  previewImage.style.display="block";
  if(previewPlaceholder){previewPlaceholder.style.display="none";}
  if(result){result.textContent="Preview ready above. This demo shows your image in the layout; model predictions are not computed here.";}
}

if(fileInput){
  fileInput.addEventListener("change",handleFileSelection);
}
if(uploadBtn){
  uploadBtn.addEventListener("click",function(){
    handleFileSelection();
    if(!fileInput||!fileInput.files||!fileInput.files[0]){
      if(result){result.textContent="Please choose an image file first, then preview it here.";}
    }
  });
}

/* Grad-CAM case tabs */
var caseTabs=document.getElementById("caseTabs");
var compareBefore=document.getElementById("compareBefore");
var compareAfter=document.getElementById("compareAfter");
var caseDescription=document.getElementById("caseDescription");
if(caseTabs&&compareBefore&&compareAfter&&caseDescription){
  var cases={
    tp:{
      before:"assets/grad_tp_before.png",
      after:"assets/grad_tp_after.png",
      desc:"Cardiomegaly correctly detected; Grad-CAM focuses on the cardiac silhouette rather than external devices, reinforcing that the model attends to clinically relevant regions."
    },
    fp:{
      before:"assets/grad_fp_before.png",
      after:"assets/grad_fp_after.png",
      desc:"The prediction is driven by attention on monitoring equipment, illustrating shortcut learning that motivates device-aware augmentations and stricter validation."
    },
    fn:{
      before:"assets/grad_fn_before.png",
      after:"assets/grad_fn_after.png",
      desc:"A subtle effusion is missed at default thresholds but becomes detectable after label-specific threshold tuning and calibration, highlighting the sensitivity–specificity trade-offs."
    }
  };
  caseTabs.addEventListener("click",function(e){
    var tab=e.target.closest(".case-tab");
    if(!tab)return;
    var key=tab.getAttribute("data-case");
    if(!cases[key])return;
    compareBefore.src=cases[key].before;
    compareAfter.src=cases[key].after;
    caseDescription.textContent=cases[key].desc;
    caseTabs.querySelectorAll(".case-tab").forEach(function(t){
      t.classList.toggle("active",t===tab);
    });
  });
}
</script>
</body>
</html>
